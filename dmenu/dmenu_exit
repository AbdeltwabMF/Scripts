#!/usr/bin/bash
#
# Logout, reboot or shutdown using the power of dmenu

choice=$(echo -e "ï—œ Screensaver\nï¦± Sleep\nâ¼ Hibernate\nâ¾ Hybrid sleep\nâ­˜ Sleep then hibernate\nï¡‚ Logout\nî¬· Reboot\nï€‘ Shutdown" | dmenu -p "Please Stay ğŸ™‚" -l 10)
[[ ${choice} == "" ]] && exit 1

confirm=$(echo -e "No\nYes" | dmenu -p "Are you sure you wanna ${choice}?")
regexp="(^No$)|(^$)"
[[ ${confirm} =~ ${regexp} ]] && exit 0

xdg-screensaver reset

case "$choice" in
  "ï—œ Screensaver") xdg-screensaver activate ;;
  "ï¦± Sleep") loginctl suspend ;;
  "â¼ Hibernate") loginctl hibernate ;;
  "â¾ Hybrid sleep") loginctl hybrid-sleep ;;
  "â­˜ Sleep then hibernate") loginctl suspend-then-hibernate ;;
  "ï¡‚ Logout")
    xdg-screensaver activate
    slock -m "Locked at $(date "+%A %d, %I:%M:%S %p")" toggle-layout "us"
    ;;
  "î¬· Reboot") loginctl reboot ;;
  "ï€‘ Shutdown") loginctl poweroff ;;
esac
